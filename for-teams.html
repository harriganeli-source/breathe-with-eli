<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Teams | Eli Harrigan</title>
    <meta name="description" content="Breathwork sessions, workshops, and group coaching for teams. Help your people down-regulate stress, build connection, and thrive at work.">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="For Teams | Eli Harrigan">
    <meta property="og:description" content="Breathwork sessions, workshops, and group coaching for teams. Help your people down-regulate stress, build connection, and thrive at work.">
    <meta property="og:image" content="https://breathewitheli.com/images/team-workshop.jpg">
    <meta property="og:url" content="https://breathewitheli.com/for-teams">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        @media (max-width: 768px) {
            .two-column-grid {
                grid-template-columns: 1fr !important;
                gap: 2rem !important;
            }
        }
        /* Force three-column testimonials on desktop */
        .testimonials-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        /* Stack photo and text vertically in the grid */
        .testimonials-grid .testimonial-card--with-photo {
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        @media (max-width: 992px) {
            .testimonials-grid {
                grid-template-columns: 1fr;
            }
            .testimonials-grid .testimonial-card--with-photo {
                flex-direction: row;
                align-items: flex-start;
                text-align: left;
            }
        }

        /* Connected Dots Network - ABSOLUTE position on page, not fixed to viewport */
        .connected-dots {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.15;
            z-index: 1;
            overflow: visible;
        }
        /* Testimonial cards need to be above the organism */
        #testimonials .testimonial-card {
            position: relative;
            z-index: 2;
        }
        /* Override default fade-in for testimonials - slower, staggered, from bottom */
        #testimonials .testimonial-card.fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }
        #testimonials .testimonial-card.fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Stagger delays for left-to-right animation */
        #testimonials .testimonial-card:nth-child(1).fade-in {
            transition-delay: 0s;
        }
        #testimonials .testimonial-card:nth-child(2).fade-in {
            transition-delay: 0.4s;
        }
        #testimonials .testimonial-card:nth-child(3).fade-in {
            transition-delay: 0.8s;
        }
        .connected-dots .dot {
            fill: var(--color-primary);
        }
        .connected-dots .line {
            stroke: var(--color-primary);
            stroke-width: 1.5;
            opacity: 0.6;
        }
        .intro-section-teams {
            position: relative;
        }
        .intro-section-teams .container {
            position: relative;
            z-index: 1;
        }
        @media (max-width: 768px) {
            .connected-dots {
                display: none;
            }
            .connected-dots-mobile {
                display: block;
            }
        }
        @media (min-width: 769px) {
            .connected-dots-mobile {
                display: none;
            }
        }
        /* Mobile version for Who This Is For section */
        .connected-dots-mobile {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }
        .connected-dots-mobile .dot {
            fill: var(--color-primary);
        }
        .connected-dots-mobile .line {
            stroke: var(--color-primary);
            stroke-width: 1;
            opacity: 0.6;
        }
        .who-this-is-for {
            position: relative;
        }
        .who-this-is-for .container {
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">Eli Harrigan</a>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="about.html">About</a></li>
                <li class="nav-dropdown">
                    <a href="work-with-me.html">Work With Me</a>
                    <ul class="dropdown-menu">
                        <li><a href="work-with-me.html#breathwork">Dynamic Breathwork</a></li>
                        <li><a href="work-with-me.html#coaching">Somatic Coaching</a></li>
                        <li><a href="work-with-me.html#mens-groups">Men's Groups</a></li>
                    </ul>
                </li>
                <li><a href="upcoming.html">Groups & Workshops</a></li>
                <li><a href="for-teams.html">For Teams</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="book.html" class="nav-cta">Book a Session</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <div class="container">
            <h1>For Teams</h1>
        </div>
    </header>

    <!-- Connected Dots Container - spans full page for absolute positioning -->
    <div id="connected-dots-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: visible;">
        <svg class="connected-dots" id="connected-dots-svg" viewBox="0 0 1000 3000" preserveAspectRatio="xMidYMin slice" style="width: 100%; height: 100%;">
            <!-- Lines and dots will be created by JavaScript -->
        </svg>
    </div>

    <!-- Intro + Image Section (Two Column) -->
    <section class="content-section intro-section-teams" style="position: relative; background-color: var(--color-bg);">
        <div class="container">
            <div class="two-column-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: start;">
                <!-- Image -->
                <div>
                    <img src="images/team-workshop.jpg" alt="Outdoor group workshop session" style="width: 100%; max-height: 450px; object-fit: cover; border-radius: 8px;">
                </div>
                <!-- Intro Text -->
                <div style="font-size: 0.95rem;">
                    <p>Your team carries more than they talk about. The pressure, the pace, the moments when everything needs to happen at once. They're good at pushing through. But pushing through has a cost, and it usually shows up later—in tension, in disconnection, in the slow burn of running on empty.</p>
                    <p><em>What if there was a space to put some of that down, together?</em></p>
                    <p>Through breathwork and nervous system training, your people learn to down-regulate stress in real time, recover more fully between intense periods, and stay present with each other when things get hard.</p>
                    <p>And there's something that happens when people breathe together in a room: they come out of it feeling more like a team than when they walked in.</p>
                </div>
            </div>
        </div>
        <a href="#testimonials" class="scroll-indicator" aria-label="Scroll to content" style="position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%); opacity: 0.5;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 32px; height: 32px;">
                <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
            </svg>
        </a>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="content-section" style="background-color: var(--color-bg-alt);">
        <div class="container">
            <div class="testimonials-grid">
                <div class="testimonial-card testimonial-card--with-photo">
                    <div class="testimonial-photo">
                        <img src="images/andrea.jpg" alt="Andrea M. Garroway, Ph.D.">
                    </div>
                    <div class="testimonial-content">
                        <p>"Eli created a supportive environment for our team throughout the entire experience. We were able to bond, reflect about our work, and develop renewed appreciation for the value of the mind-body connection."</p>
                        <cite>— Andrea M. Garroway, Ph.D.</cite>
                    </div>
                </div>
                <div class="testimonial-card testimonial-card--with-photo">
                    <div class="testimonial-photo">
                        <img src="images/hyjekkarol.jpg" alt="Karol Hyjek" style="object-position: center 20%;">
                    </div>
                    <div class="testimonial-content">
                        <p>"Breathwork has been a deeply impactful outlet for me. It's given me a powerful way to release emotion and reconnect with myself when life feels heavy. Through conscious breathing, I've found clarity, calm, and a sense of release that helps me stay grounded and prevents burnout."</p>
                        <cite>— Karol Hyjek, MD</cite>
                    </div>
                </div>
                <div class="testimonial-card testimonial-card--with-photo">
                    <div class="testimonial-photo">
                        <img src="images/melissa_DC.jpg" alt="Melissa O'Loughlin">
                    </div>
                    <div class="testimonial-content">
                        <p>"The concepts Eli teaches about acknowledging feelings have literally changed how I move through every single day."</p>
                        <cite>— Melissa O'Loughlin, DC, CACCP</cite>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- What I Offer Section -->
    <section class="content-section">
        <div class="container" style="max-width: 900px;">
            <h2 style="text-align: center; margin-bottom: 2.5rem;">What I Offer</h2>

            <div class="benefit-item" style="margin-bottom: 2rem;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--color-primary)" stroke-width="1.5">
                    <path d="M21 12a9 9 0 1 1-9-9"/>
                    <polyline points="21 3 21 9 15 9"/>
                    <path d="M21 9l-6 6"/>
                </svg>
                <div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.5rem;">Reset: A Single Session</h3>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">A 2-hour guided breathwork session for your team.</p>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">You'll move through the experience together, arriving somewhere different than where you started—more present, more open, more connected to yourselves and each other.</p>
                    <p style="color: var(--color-text-light);">Works well as a standalone workshop or an introduction before committing to deeper work.</p>
                </div>
            </div>

            <div class="benefit-item" style="margin-bottom: 2rem;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--color-primary)" stroke-width="1.5">
                    <circle cx="5" cy="12" r="2"/>
                    <circle cx="11" cy="12" r="2"/>
                    <circle cx="17" cy="12" r="2"/>
                    <circle cx="23" cy="12" r="2"/>
                    <path d="M7 12h2M13 12h2M19 12h2"/>
                </svg>
                <div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.5rem;">Sustain: A Four-Session Series</h3>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">Four sessions over eight weeks.</p>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">Breathwork isn't the same twice. What surfaces in session one is different from session three. The body releases in layers, and building a real relationship with the practice takes repetition.</p>
                    <p style="color: var(--color-text-light);">Over the series, you'll develop a shared language and a felt sense of what regulation actually means—not as a concept, but as something you can return to on your own—creating lasting shifts in how you relate and work together.</p>
                </div>
            </div>

            <div class="benefit-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--color-primary)" stroke-width="1.5">
                    <path d="M18.178 8c5.096 0 5.096 8 0 8-5.095 0-7.133-8-12.739-8-4.873 0-4.873 8 0 8 5.606 0 7.644-8 12.74-8z"/>
                </svg>
                <div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.5rem;">Ongoing Support</h3>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">Monthly sessions on retainer for teams that want breathwork as part of their culture, not a one-time event.</p>
                    <p style="color: var(--color-text-light); margin-bottom: 1rem;">The world is changing fast, and what sets people apart is changing too. It's less about what you know and more about how you are: your presence, your steadiness, your ability to stay grounded when things get hard.</p>
                    <p style="color: var(--color-text-light);">Teams that invest in this kind of work aren't just taking care of themselves. They're protecting the thing that actually matters: real human connection.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Who This Is For Section -->
    <section class="content-section who-this-is-for" style="background-color: var(--color-bg-alt);">
        <!-- Mobile Connected Dots -->
        <svg class="connected-dots-mobile" id="connected-dots-mobile-svg" viewBox="0 0 400 300" preserveAspectRatio="xMidYMid slice">
            <!-- Lines and dots will be created by JavaScript -->
        </svg>
        <div class="container" style="max-width: 800px;">
            <h2 style="text-align: center; margin-bottom: 2rem;">Who This Is For</h2>
            <ul style="list-style: disc; padding-left: 1.5rem; color: var(--color-text-light);">
                <li>Teams in high-pressure environments: healthcare, production, startups, nonprofits, sports</li>
                <li>Leaders who sense something's missing in how people relate at work</li>
                <li>Organizations who want their people to thrive, not just perform</li>
            </ul>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container" style="text-align: center;">
            <h2>Interested in bringing this to your team?</h2>
            <p style="max-width: 600px; margin: 1rem auto 2rem;">Let's talk about what your team needs and how I can help.</p>
            <a href="contact.html" class="btn btn-primary">Get in Touch</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="index.html" class="footer-logo">Eli Harrigan</a>
                    <p>Breathwork & Coaching</p>
                    <p class="footer-location">Rochester, NY & Online</p>
                </div>
                <div class="footer-nav">
                    <h4>Navigate</h4>
                    <ul>
                        <li><a href="about.html">About</a></li>
                        <li class="nav-dropdown">
                    <a href="work-with-me.html">Work With Me</a>
                    <ul class="dropdown-menu">
                        <li><a href="work-with-me.html#breathwork">Dynamic Breathwork</a></li>
                        <li><a href="work-with-me.html#coaching">Somatic Coaching</a></li>
                        <li><a href="work-with-me.html#mens-groups">Men's Groups</a></li>
                    </ul>
                </li>
                        <li><a href="upcoming.html">Groups & Workshops</a></li>
                        <li><a href="for-teams.html">For Teams</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="book.html">Book</a></li>
                    </ul>
                </div>
                <div class="footer-connect">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="mailto:eli@breathewitheli.com">eli@breathewitheli.com</a></li>
                        <li><a href="https://instagram.com/breathewitheli" target="_blank" rel="noopener">Instagram</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Eli Harrigan. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>

    <!-- Connected Dots Animation - Scroll-linked floating organism -->
    <script>
    (function() {
        // Only run on desktop
        if (window.innerWidth <= 768) return;

        const svg = document.getElementById('connected-dots-svg');
        if (!svg) return;

        // Configuration
        const dotRadius = 5;
        const breathCycle = 10000;
        const lineGrowDuration = 3500;  // Slower line growth
        const lineGrowDelay = 1300;     // A bit more delay before starting
        const lineStagger = 350;        // More delay between lines

        // Initial hexagon positions (will be transformed) - LARGER scale
        const scale = 1.6;  // Make organism 60% larger
        const basePositions = [
            { x: 0 * scale, y: -110 * scale },     // 0: top
            { x: 95 * scale, y: -55 * scale },     // 1: top right
            { x: 95 * scale, y: 55 * scale },      // 2: bottom right
            { x: 0 * scale, y: 110 * scale },      // 3: bottom
            { x: -95 * scale, y: 55 * scale },     // 4: bottom left
            { x: -95 * scale, y: -55 * scale },    // 5: top left
            { x: 0, y: 0, isCenter: true }  // 6: center
        ];

        const connections = [
            [6, 0], [6, 1], [6, 2], [6, 3], [6, 4], [6, 5],
            [0, 1], [1, 2], [2, 3], [3, 4], [4, 5], [5, 0]
        ];

        // State
        const dots = [];
        const dotElements = [];
        const lineElements = [];
        const startTime = performance.now();

        // Organism position in SVG viewBox coordinates
        // viewBox is 0-1000 x, 0-3000 y (maps to full page width, ~3000px page height)
        let organismX = 700;  // Start right side
        let organismY = 400;  // Near top of page
        let organismRotation = 0;

        // Target position the organism drifts toward (in SVG coords)
        let targetX = 700;
        let targetY = 400;
        let targetRotation = 0;

        // Section positions (will be calculated)
        let sections = [];

        // Page dimensions for coordinate conversion
        let pageHeight = 3000;

        // Initialize dots
        basePositions.forEach((pos, i) => {
            const dot = {
                baseX: pos.x,
                baseY: pos.y,
                x: 700 + pos.x,
                y: 400 + pos.y,
                phase: Math.random() * Math.PI * 2,
                isCenter: pos.isCenter || false
            };
            dots.push(dot);

            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            circle.setAttribute('class', 'dot');
            circle.setAttribute('r', dot.isCenter ? dotRadius * 1.3 : dotRadius);
            if (dot.isCenter) circle.style.opacity = '0.85';
            circle.setAttribute('cx', dot.x);
            circle.setAttribute('cy', dot.y);
            dotElements.push(circle);
        });

        // Initialize lines
        connections.forEach(([i, j], idx) => {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('class', 'line');
            line.setAttribute('x1', dots[i].x);
            line.setAttribute('y1', dots[i].y);
            line.setAttribute('x2', dots[i].x);
            line.setAttribute('y2', dots[i].y);
            lineElements.push({ element: line, from: i, to: j, index: idx });
            svg.appendChild(line);
        });

        dotElements.forEach(el => svg.appendChild(el));

        // Calculate section positions for scroll-based movement
        // All positions are in SVG viewBox coordinates (0-1000 x, 0-3000 y)
        function updateSectionPositions() {
            const introSection = document.querySelector('.intro-section-teams');
            const testimonialsSection = document.getElementById('testimonials');
            const whatIOfferSection = document.querySelectorAll('.content-section')[2];

            // Get page height and section positions
            pageHeight = document.body.scrollHeight || 3000;
            const introTop = introSection ? introSection.offsetTop : 0;
            const testimonialsTop = testimonialsSection ? testimonialsSection.offsetTop : 600;
            const whatIOfferTop = whatIOfferSection ? whatIOfferSection.offsetTop : 1200;

            // Convert page pixels to SVG Y coordinates (page pixels * 3000 / pageHeight)
            const toSvgY = (pageY) => (pageY / pageHeight) * 3000;

            sections = [
                {
                    el: introSection,
                    scrollThreshold: introTop,
                    targetX: 700,  // Right side (70% of 1000)
                    targetY: toSvgY(introTop + 350),
                    rotation: 0
                },
                {
                    el: testimonialsSection,
                    scrollThreshold: testimonialsTop + 100,  // More delay - trigger later
                    targetX: 120, // Far left side (12% of 1000)
                    targetY: toSvgY(testimonialsTop + 300),
                    rotation: 45
                },
                {
                    el: whatIOfferSection,
                    scrollThreshold: whatIOfferTop + 100,  // More delay - trigger later
                    targetX: 880, // Right side (88% of 1000)
                    targetY: toSvgY(whatIOfferTop + 400),
                    rotation: 90
                }
            ];

            // Set initial target position
            if (sections[0]) {
                targetX = sections[0].targetX;
                targetY = sections[0].targetY;
                organismX = targetX;
                organismY = targetY;
            }

            // Update container height to match page
            const container = document.getElementById('connected-dots-container');
            if (container) {
                container.style.height = pageHeight + 'px';
            }
        }

        // Track which section we're targeting and when we last changed
        let currentSectionIndex = 0;
        let lastSectionChangeTime = 0;
        const sectionChangeCooldown = 3000;  // 3 second cooldown before accepting new target

        // Scroll handler - updates target position based on which section is in view
        // But with a cooldown to prevent bouncing
        function handleScroll() {
            const scrollY = window.scrollY;
            const viewportMiddle = scrollY + window.innerHeight * 0.4;
            const now = performance.now();

            // Find which section the viewport middle is in
            let newSectionIndex = 0;
            for (let i = sections.length - 1; i >= 0; i--) {
                const section = sections[i];
                if (!section.el) continue;

                if (viewportMiddle >= section.scrollThreshold) {
                    newSectionIndex = i;
                    break;
                }
            }

            // Only change target if:
            // 1. It's a different section than current
            // 2. Enough time has passed since last change (cooldown)
            if (newSectionIndex !== currentSectionIndex &&
                (now - lastSectionChangeTime) > sectionChangeCooldown) {
                currentSectionIndex = newSectionIndex;
                lastSectionChangeTime = now;
                const section = sections[currentSectionIndex];
                if (section) {
                    targetX = section.targetX;
                    targetY = section.targetY;
                    targetRotation = section.rotation;
                }
            }
        }

        window.addEventListener('scroll', handleScroll, { passive: true });
        window.addEventListener('resize', updateSectionPositions);
        // Delay initial setup to ensure page is laid out
        setTimeout(updateSectionPositions, 100);

        // Continuous rotation for crawling effect
        let continuousRotation = 0;

        function animate(time) {
            const elapsed = time - startTime;

            // Smoothly drift toward target position
            const lerpSpeed = 0.004;
            organismX += (targetX - organismX) * lerpSpeed;
            organismY += (targetY - organismY) * lerpSpeed;
            organismRotation += (targetRotation - organismRotation) * lerpSpeed;

            // Add continuous slow rotation for "crawling" effect
            continuousRotation += 0.015;

            // Breathing factor - REDUCED amplitude, stays larger
            const breathPhase = (time % breathCycle) / breathCycle;
            const breathFactor = Math.sin(breathPhase * Math.PI * 2);

            // Convert rotation to radians (target rotation + continuous crawl rotation)
            const rotRad = ((organismRotation + continuousRotation) * Math.PI) / 180;
            const cosR = Math.cos(rotRad);
            const sinR = Math.sin(rotRad);

            // Squeeze/stretch factor - organism changes shape over time
            const squeezePhase = (time % 15000) / 15000;  // 15 second cycle
            const squeezeFactor = Math.sin(squeezePhase * Math.PI * 2);
            // When squeezeFactor is positive: wider and shorter
            // When squeezeFactor is negative: taller and narrower
            const scaleX = 1 + squeezeFactor * 0.15;  // 0.85 to 1.15
            const scaleY = 1 - squeezeFactor * 0.15;  // 1.15 to 0.85

            // Update dot positions
            dots.forEach((dot, i) => {
                // LOTS of wander for crawling movement between dots (EVEN SLOWER)
                // Each dot has its own unique wander pattern
                dot.phase += 0.0025 + (i * 0.0006);  // Even slower speeds per dot
                const wanderX = Math.sin(dot.phase) * 28 + Math.sin(dot.phase * 1.7) * 15 + Math.sin(dot.phase * 0.3) * 10;
                const wanderY = Math.cos(dot.phase * 0.7) * 28 + Math.cos(dot.phase * 1.3) * 15 + Math.cos(dot.phase * 0.5) * 10;

                // Breathing expansion (small)
                const breathExpand = breathFactor * 2;
                const breathScale = 1 + breathExpand * 0.01;

                // Apply squeeze/stretch to base positions
                const expandedX = dot.baseX * scaleX * breathScale;
                const expandedY = dot.baseY * scaleY * breathScale;

                // Apply rotation
                const rotatedX = expandedX * cosR - expandedY * sinR;
                const rotatedY = expandedX * sinR + expandedY * cosR;

                // Final position in SVG coordinates (absolute on page)
                dot.x = organismX + rotatedX + wanderX;
                dot.y = organismY + rotatedY + wanderY;

                dotElements[i].setAttribute('cx', dot.x);
                dotElements[i].setAttribute('cy', dot.y);
            });

            // Update lines with growth animation
            lineElements.forEach(({ element, from, to, index }) => {
                const fromDot = dots[from];
                const toDot = dots[to];

                const thisLineDelay = lineGrowDelay + (index * lineStagger);
                let growProgress = 0;
                if (elapsed > thisLineDelay) {
                    growProgress = Math.min(1, (elapsed - thisLineDelay) / lineGrowDuration);
                    growProgress = 1 - Math.pow(1 - growProgress, 3);
                }

                element.setAttribute('x1', fromDot.x);
                element.setAttribute('y1', fromDot.y);
                element.setAttribute('x2', fromDot.x + (toDot.x - fromDot.x) * growProgress);
                element.setAttribute('y2', fromDot.y + (toDot.y - fromDot.y) * growProgress);
            });

            requestAnimationFrame(animate);
        }

        requestAnimationFrame(animate);

        // Mobile fallback (simpler static version)
        const mobileSvg = document.getElementById('connected-dots-mobile-svg');
        if (mobileSvg) {
            initMobileAnimation(mobileSvg);
        }

        function initMobileAnimation(svg) {
            const mobilePositions = [
                { x: 200, y: 30 },
                { x: 320, y: 75 },
                { x: 320, y: 175 },
                { x: 200, y: 220 },
                { x: 80, y: 175 },
                { x: 80, y: 75 },
                { x: 200, y: 125, isCenter: true }
            ];

            const mobileDots = [];
            const mobileDotElements = [];
            const mobileLineElements = [];
            const mobileStartTime = performance.now();

            mobilePositions.forEach((pos, i) => {
                const dot = { x: pos.x, y: pos.y, baseX: pos.x, baseY: pos.y, phase: Math.random() * Math.PI * 2, isCenter: pos.isCenter || false };
                mobileDots.push(dot);
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('class', 'dot');
                circle.setAttribute('r', dot.isCenter ? dotRadius * 1.3 : dotRadius);
                if (dot.isCenter) circle.style.opacity = '0.85';
                circle.setAttribute('cx', dot.x);
                circle.setAttribute('cy', dot.y);
                mobileDotElements.push(circle);
            });

            connections.forEach(([i, j], idx) => {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('class', 'line');
                line.setAttribute('x1', mobileDots[i].x);
                line.setAttribute('y1', mobileDots[i].y);
                line.setAttribute('x2', mobileDots[i].x);
                line.setAttribute('y2', mobileDots[i].y);
                mobileLineElements.push({ element: line, from: i, to: j, index: idx });
                svg.appendChild(line);
            });
            mobileDotElements.forEach(el => svg.appendChild(el));

            function mobileAnimate(time) {
                const elapsed = time - mobileStartTime;
                const breathPhase = (time % breathCycle) / breathCycle;
                const breathFactor = Math.sin(breathPhase * Math.PI * 2);

                mobileDots.forEach((dot, i) => {
                    dot.phase += 0.003;
                    const wanderX = Math.sin(dot.phase) * 12;
                    const wanderY = Math.cos(dot.phase * 0.7) * 12;
                    const breathExpand = breathFactor * 10;
                    const dirX = (dot.baseX - 200) / 200;
                    const dirY = (dot.baseY - 125) / 200;
                    dot.x = dot.baseX + wanderX + dirX * breathExpand;
                    dot.y = dot.baseY + wanderY + dirY * breathExpand;
                    mobileDotElements[i].setAttribute('cx', dot.x);
                    mobileDotElements[i].setAttribute('cy', dot.y);
                });

                mobileLineElements.forEach(({ element, from, to, index }) => {
                    const fromDot = mobileDots[from];
                    const toDot = mobileDots[to];
                    const thisLineDelay = lineGrowDelay + (index * lineStagger);
                    let growProgress = elapsed > thisLineDelay ? Math.min(1, (elapsed - thisLineDelay) / lineGrowDuration) : 0;
                    growProgress = 1 - Math.pow(1 - growProgress, 3);
                    element.setAttribute('x1', fromDot.x);
                    element.setAttribute('y1', fromDot.y);
                    element.setAttribute('x2', fromDot.x + (toDot.x - fromDot.x) * growProgress);
                    element.setAttribute('y2', fromDot.y + (toDot.y - fromDot.y) * growProgress);
                });

                requestAnimationFrame(mobileAnimate);
            }
            requestAnimationFrame(mobileAnimate);
        }
    })();
    </script>

</body>
</html>
